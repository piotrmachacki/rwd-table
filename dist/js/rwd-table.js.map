{"version":3,"file":"rwd-table.js","sources":["../../src/js/rwd-table.js"],"sourcesContent":["import $ from 'jquery';\n\n$.fn.rwdTable = function(userOptions) {\n\n\tvar $this = this;\n\n\tlet opt = {};\n\tlet elementsObj = {};\n\n\tconst defaultOptions = {\n\t};\n\n\topt = $.extend({}, defaultOptions, userOptions);\n\n\t$this.each(function(index, table) {\n\t\t$(table).find('tbody tr').each(function(index, tr) {\n\t\t\t$(tr).find('td').each(function(index, td) {\n\t\t\t\tlet value = $(table).find('thead tr th:eq('+index+')').text();\n\t\t\t\t$(this).attr('data-title', value);\n\t\t\t});\n\t\t});\n\t});\n\n\tfunction useRWD() {\n\t\t$this.each(function() {\n\t\t\tif($(this).data('width')===undefined) {\n\t\t\t\tlet tableWidth = $(this).outerWidth();\n\t\t\t\tlet parentWidth = $(this).parent().width();\n\t\t\t\tif(tableWidth > parentWidth) {\n\t\t\t\t\t$(this).attr('data-width',parentWidth);\n\t\t\t\t\ttoggleRwdClass(this);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttoggleRwdClass(this);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction toggleRwdClass(table) {\n\t\tlet tableMaxWidth = $(table).data('width');\n\t\tlet parentWidth = $(table).parent().width();\n\t\t$(table).toggleClass('use-rwd', tableMaxWidth >= parentWidth);\n\t\tlet tableWidth = $(table).outerWidth();\n\t\tif(tableWidth > parentWidth) {\n\t\t\t$(table).attr('data-width',parentWidth);\n\t\t\ttableMaxWidth = parentWidth;\n\t\t}\n\t\t$(table).toggleClass('use-rwd', tableMaxWidth >= parentWidth);\n\t}\n\n\tuseRWD();\n\n\t$(window).resize(function() {\n\t\tuseRWD();\n\t});\n\n\treturn $this;\n\n};"],"names":["$","fn","rwdTable","userOptions","$this","opt","defaultOptions","extend","each","index","table","find","tr","td","value","text","attr","useRWD","data","undefined","tableWidth","outerWidth","parentWidth","parent","width","toggleRwdClass","tableMaxWidth","toggleClass","window","resize"],"mappings":";;;;;;;;;;;;;CAEAA,EAAEC,EAAF,CAAKC,QAAL,GAAgB,UAASC,WAAT,EAAsB;;CAErC,KAAIC,QAAQ,IAAZ;;CAEA,KAAIC,MAAM,EAAV;AACA;CAEA,KAAMC,iBAAiB,EAAvB;;CAGAD,OAAML,EAAEO,MAAF,CAAS,EAAT,EAAaD,cAAb,EAA6BH,WAA7B,CAAN;;CAEAC,OAAMI,IAAN,CAAW,UAASC,KAAT,EAAgBC,KAAhB,EAAuB;CACjCV,IAAEU,KAAF,EAASC,IAAT,CAAc,UAAd,EAA0BH,IAA1B,CAA+B,UAASC,KAAT,EAAgBG,EAAhB,EAAoB;CAClDZ,KAAEY,EAAF,EAAMD,IAAN,CAAW,IAAX,EAAiBH,IAAjB,CAAsB,UAASC,KAAT,EAAgBI,EAAhB,EAAoB;CACzC,QAAIC,QAAQd,EAAEU,KAAF,EAASC,IAAT,CAAc,oBAAkBF,KAAlB,GAAwB,GAAtC,EAA2CM,IAA3C,EAAZ;CACAf,MAAE,IAAF,EAAQgB,IAAR,CAAa,YAAb,EAA2BF,KAA3B;CACA,IAHD;CAIA,GALD;CAMA,EAPD;;CASA,UAASG,MAAT,GAAkB;CACjBb,QAAMI,IAAN,CAAW,YAAW;CACrB,OAAGR,EAAE,IAAF,EAAQkB,IAAR,CAAa,OAAb,MAAwBC,SAA3B,EAAsC;CACrC,QAAIC,aAAapB,EAAE,IAAF,EAAQqB,UAAR,EAAjB;CACA,QAAIC,cAActB,EAAE,IAAF,EAAQuB,MAAR,GAAiBC,KAAjB,EAAlB;CACA,QAAGJ,aAAaE,WAAhB,EAA6B;CAC5BtB,OAAE,IAAF,EAAQgB,IAAR,CAAa,YAAb,EAA0BM,WAA1B;CACAG,oBAAe,IAAf;CACA;CACD,IAPD,MAOO;CACNA,mBAAe,IAAf;CACA;CACD,GAXD;CAYA;;CAED,UAASA,cAAT,CAAwBf,KAAxB,EAA+B;CAC9B,MAAIgB,gBAAgB1B,EAAEU,KAAF,EAASQ,IAAT,CAAc,OAAd,CAApB;CACA,MAAII,cAActB,EAAEU,KAAF,EAASa,MAAT,GAAkBC,KAAlB,EAAlB;CACAxB,IAAEU,KAAF,EAASiB,WAAT,CAAqB,SAArB,EAAgCD,iBAAiBJ,WAAjD;CACA,MAAIF,aAAapB,EAAEU,KAAF,EAASW,UAAT,EAAjB;CACA,MAAGD,aAAaE,WAAhB,EAA6B;CAC5BtB,KAAEU,KAAF,EAASM,IAAT,CAAc,YAAd,EAA2BM,WAA3B;CACAI,mBAAgBJ,WAAhB;CACA;CACDtB,IAAEU,KAAF,EAASiB,WAAT,CAAqB,SAArB,EAAgCD,iBAAiBJ,WAAjD;CACA;;CAEDL;;CAEAjB,GAAE4B,MAAF,EAAUC,MAAV,CAAiB,YAAW;CAC3BZ;CACA,EAFD;;CAIA,QAAOb,KAAP;CAEA,CAxDD;;;;"}